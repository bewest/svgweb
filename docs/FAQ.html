
Frequently Asked Questions
------------------------------------------------------------

Basic
    Basic.1: What is svgviewer?
    Basic.2: What is SVG? Where can I get SVG files?
    Basic.3: Why does svgviewer exist?
    Basic.4: Who wrote svgviewer?
    Basic.5: What is sgweb?

Deployment
    Dep.1: What is the simplest way to include an SVG image on my web page?
    Dep.2: How can I use an SVG image from SVG content that is stored inline in my web page?
    Dep.3: How can I change the default background color?

Sizing
    Size.1: What is the relationship between SVG drawing coordinates
            and screen pixel coordinates?
    Size.2: How do I make the size of an SVG object resize along with the
            browser window, ignoring the object's original aspect ratio?
    Size.3: How do I make the size of an SVG object resize along with the
            browser window, but maintain the object's original aspect ratio?
    Size.4: How do I make the size of an SVG object fit a given % of the
            screen size and resize along with the browser?

Limitations
    Limit.1: What parts of SVG are not implemented?

Scripting
    Script.1: What javascript helper functions are available for loading SVG content?
    Script.2: What javascript functions are available as part of the standard W3C SVG interface?
    Script.3: Are there any quirks to be aware of with the SVG scripting support?
    Script.4: How are mouse and keyboard events handled?

Future
    Future.1: What are the plans for SVGViewer?





Answers
------------------------------------------------------------

Basic
    Basic.1: What is SVGViewer?
        SVGViewer is a flash "movie" which renders Scalable Vector Graphics (SVG) files.

    Basic.2: What is an SVG file? Where can I get SVG files?
        Scalable Vector Graphics (SVG) files are graphical images that are stored in XML format.
        Vector graphics can scale to any size without degradation unlike bitmap images which become pixelated (grainy).
        You can find many freely available SVG files at http://www.openclipart.org.
        You can use the freely available Inkscape application to create and edit SVG files.

    Basic.3: Why does SVGViewer exist?
        Internet Explorer does not support SVG files. An option to support SVG on Internet Explorer
        was desired that did not require the user to install anything.  Adobe has provided a plug-in but it
        requires installation and is scheduled for end of support. So, this flash shim was created to allow
        SVG files to be supported without requiring anything other than flash, which over 90% of users already
        have installed.

    Basic.4: Who wrote SVGViewer?
        The original core was written by James Hight and released under MIT license in September of 2008.
        Rick Masters took that code and created a new project, http://code.google.com/p/sgweb,
        on October 11th, 2008. Rick then added support for linear and radial gradients, xlink cross
        references, gaussian blurs, and javascript scripting and fixed numerous minor issues.
        Rick can be contacted here: grick23 at gmail.com.

    Basic.6: What is sgweb?
        sgweb is the project that Rick Masters started as an umbrella project for scalable graphics
        utilities for web browsers. Simply put: sgweb is the parent project for svgviewer.
        The sgweb project seeks to promote vector markup languages in web browsers and is agnostic
        on technology. The first utility of this project is svgviewer. There may be other utilities
        added to the sgweb project for Xaml, javafx, and other markup languages in the future.

Deployment
    For simple deployments, place svgviewer.swf in the same directory as your html and svg file.

    Dep.1: What is the simplest way to include an SVG image on my web page?
        See com/sgweb/svg/release/svg_loadfile_js.html

    Dep.2: How can I use an SVG image from SVG content that is stored inline in my web page?
        See com/sgweb/svg/release/svg_inline.html

    Dep.3: How can I include an SVG image on my web page without using javascript?
        See com/sgweb/svg/release/svg_loadfile.html

    Dep.4: How can I include multiple inline SVG images?
        See com/sgweb/svg/release/svg_inline_many.html

Sizing
    Size.1: What is the relationship between SVG drawing coordinates and
            browser pixel coordinates?
            The SVG drawing coordinates are draw initially to the flash
            coordinate system which are then mapped to browser coordinates.
            SVGViewer tells flash at compile time what the size of the "movie"
            is. The width and height of the flash area is defined at the top
            of SVGViewer.as in the [SWF] directive. Currently, this is 2048
            by 1024.

            When you use svgviewer in your web page you specify a height and
            width (either in the <object> tag or by passing in parameters to
            javascript functions) and then the flash coordinates are mapped
            into that height and width by flash. Flash uses the Stage.scaleMode
            parameter to determine exactly how the scaling is done. By default,
            it sizes the image to the object to a size which allows you to see
            the entire image within the area, preserves the ascpect ratio, and
            is as large as possible within those constraints ("showAll").

            If you specify a width and height of an SVG object as 512 by 256,
            then the image will appear four times smaller than would be
            rendered by SVG if loaded natively by the browser because it must
            scale the 2048x1024 flash axises each by .25 to get to 512x256.

            Now, the interesting quirk of design comes in here. The method by
            which flash scales the control is based on the aspect ratio of the
            html object parameters. In contrast, in the case of a native SVG loaded
            into your browser, there are no such parameters and the image is
            scaled according to the aspect ratio of the root <svg> element.
            This aspect ratio is based on the width and height parameters of the top
            svg element if they exist. If a viewBox is present, the aspect ratio
            of the viewBox is used instead. If neither of these exist, the width
            and height default to 100% by 100%, which refers to the containing
            object. In our case, the containing object is the flash control, with
            a virtual area of 2048x1024, as specified in the source code.

            The problem with the above discrepency arises when the top svg element
            uses a viewbox or width/height that is more tall than wide. In this case,
            when the browser renders the SVG natively, it correctly places borders
            on the sides. However, in our case, unless we specify an object size that
            is wider in aspect resolution than 2048x1024 (unlikely), flash resizing
            still places the borders on the top and bottom because it still thinks the
            object is more wide than tall (2048x1024). So, we cannot rely on flash resizing
            to help us scale the svg the right way because it is not aware
            of the svg aspect ratio. Therefore, an additional scaleMode is implemented
            by SVGViewer to implement the SVG behavior for the corresponding
            flash "showAll" scaleMode. This is named "showAll_svg". This mode works
            by disabling flash scaling with the "noScale" mode and then performing the
            scaling in SVGViewer.

            The flash "showAll" behavior (which is the flash default) is named
            "showAll_flash" in this library to remove ambiguity with "showAll_svg".
            With the existing 2048x1024 size, "showAll_flash", will always
            have borders at the top and bottom. Correspondingly, if you created
            a flash control that was more tall than wide, its borders would always be
            on the sides, regardless of the SVG aspect resolution.

            A design goal is to replicate what a browser would do with a raw svg file.
            The default scaleMode is therefore "showAll_svg" because this should
            result in that behavior. This mode prefers the svg scaling behavior
            above the flash control scaling behavior in precedence. This is the
            design quirk. However, it is presumed that users of this library will prefer
            that the 'right' svg thing will occur by default and the flash issue of
            2048x1024 is something they can ignore and perhaps remain blissly unaware of.

       


Limitations

    Limit.1: What parts of SVG are not implemented?
        * Compressed SVG files are not supported.
        * Scripting is not yet supported.
        * Animation is not yet supported.
        * Only the gaussian blur filter is implemented. No plan to support other filters (which are rarely used).
        * Off center radial gradients (which are rarely used) are not yet supported.
        * SVG Masks (which are rarely used) are not supported. As a best effort, clipping paths
               are used in their place. No plans to support further.
        * Patterns (which are rarerly used) are not supported. No plan to support at this time.


Scripting

    Script.1: What javascript helper functions are available for loading SVG content?
        sgweb.createSVGFlashObject(parentDivId, uniqueId, objectWidth, objectHeight, svgId, bgcolor, scaleX, scaleY, translateX, translateY)
        sgweb.loadSVGURL()

    Script.2: What javascript methods are available as part of the standard W3C SVG interface?
        (note these are not yet implemented)
        createAttributeNS
        createElementNS
        getAttributeNodeNS
        getAttributeNS
        getElementsByTagNameNS
        getNamedItemNS
        hasAttributeNS
        removeAttributeNS
        removeNamedItemNS
        setAttributeNS
        setAttributeNodeNS
        setNamedItemNS

        createTextNode

        Example:
            var svgNS = 'http://www.w3.org/2000/svg';
            var foo_g = createElementNS(svgNS, 'g')
            foo_g.getAttributeNS(null, 'x');
            foo_g.setAttributeNS(svgNS, 'x', '100');

    Script.3: Are there any quirks to be aware of with the SVG scripting support?
        Yes, the interface is implemented in a rather complex way. There is a possibility that a script
        which does something unusual will not work properly. Be aware that the javascript evaluator
        replaces certain patterns in the javascript in order to intercept certain necessary methods.
        For example, 'document.createElementNS' is replaced with 'svgviewer.document.createElementNS'
        which actually implementes that method. This is done because the real document variable apparently
        cannot be altered. So, if the script invokes a document method in an unusual way, for example, 
        it may not be executed because the svgviewer method may not intercept it.

    Script.4: How are mouse and keyboard events handled?
        There are methods for event registration.
        Mouse Events
        Key Events


Future
    Future.1: What are the plans for SVGViewer?
        The current author tends to work on specific SVG files until they render as well as possible, fixing
        or implementing new functionality along the way. Currently all files render well. If you have an SVG file
        that you would like me to work on, send it to grick23@gmail.com.
        The current task list, as of Nov 28 2008, is:
          1. Implement javascript scripting in order to support svgtetris.svg
          2. Implement animation


